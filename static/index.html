<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  <title>Go LEAN oder wie wir weniger Müll produzieren</title>

  <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0"/>

  <link rel="stylesheet" href=".//css/reset.css" type="text/css"/>


  <link type="text/css" href=".//css/fg.menu.css" media="screen" rel="stylesheet" />
  <link type="text/css" href=".//css/theme/ui.all.css" media="screen" rel="stylesheet" />
  <link type="text/css" href=".//css/sh_style.css" rel="stylesheet" />
  <link type="text/css" href=".//css/tipsy.css" rel="stylesheet" />

  <link rel="stylesheet" href=".//css/showoff.css" type="text/css"/>

  <script type="text/javascript" src=".//js/jquery-1.4.2.min.js"></script>
  <script type="text/javascript" src=".//js/jquery.cycle.all.js"></script>
	<script type="text/javascript" src=".//js/jquery-print.js"></script>
  <script type="text/javascript" src=".//js/jquery.batchImageLoad.js"></script>
  <script type="text/javascript" src=".//js/jquery.parsequery.min.js"></script>
  <script type="text/javascript" src=".//js/jquery.doubletap-0.1.js"></script>
  <script type="text/javascript" src=".//js/jquery.tipsy.js"></script>

  <script type="text/javascript" src=".//js/fg.menu.js"></script>
  <script type="text/javascript" src=".//js/showoff.js"></script>
  <script type="text/javascript" src=".//js/jTypeWriter.js"> </script>
  <script type="text/javascript" src=".//js/sh_main.min.js"></script>
  <script type="text/javascript" src=".//js/core.js"></script>
  <script type="text/javascript" src=".//js/showoffcore.js"></script>
  <script type="text/javascript" src=".//js/coffee-script.js"></script>

      <script type="text/javascript" src=".//js/sh_lang/sh_ruby.min.js"></script>
      <script type="text/javascript" src=".//js/sh_lang/sh_sh.min.js"></script>
      <script type="text/javascript" src=".//js/sh_lang/sh_xml.min.js"></script>

    <link rel="stylesheet" href=".//file/custom.css" type="text/css"/>


  <script type="text/javascript">
    $(function(){
      setupPreso(false, './');
    });

    editUrl  = "";
  </script>

</head>

<body>

<a tabindex="0" href="#search-engines" class="fg-button fg-button-icon-right ui-widget ui-state-default ui-corner-all" id="navmenu"><span class="ui-icon ui-icon-triangle-1-s"></span>slides</a>
<div id="navigation" class="hidden"></div>
<a tabindex="1" href="#search-engines" class="fg-button fg-button-icon-right ui-widget ui-state-default ui-corner-all" id="stylemenu"><span class="ui-icon ui-icon-triangle-1-s"></span>styles</a>
<div id="stylepicker" class="hidden"></div>


<div id="help">
  <table>
    <tr><td class="key">z, ?</td><td>toggle help (this)</td></tr>
    <tr><td class="key">space, &rarr;</td><td>next slide</td></tr>
    <tr><td class="key">shift-space, &larr;</td><td>previous slide</td></tr>
    <tr><td class="key">b</td><td>blank screen</td></tr>
    <tr><td class="key">d</td><td>toggle debug mode</td></tr>
    <tr><td class="key">## &lt;ret&gt;</td><td>go to slide #</td></tr>
    <tr><td class="key">c, t</td><td>table of contents (vi)</td></tr>
    <tr><td class="key">f</td><td>toggle footer</td></tr>
    <tr><td class="key">g</td><td>toggle follow</td></tr>
    <tr><td class="key">r</td><td>reload slides</td></tr>
    <tr><td class="key">n</td><td>toggle notes</td></tr>
    <tr><td class="key">p</td><td>run preshow</td></tr>
    <tr><td class="key">P</td><td>toggle pause</td></tr>
    <tr><td class="key">s</td><td>choose style</td></tr>
  </table>
</div>

<div class="buttonNav">
  <input type="submit" onClick="prevStep();" value="prev"/>
  <input type="submit" onClick="nextStep();" value="next"/>
</div>

<div id="preso"><center>loading presentation...</center></div>
<div id="footer">
  <span id="followMode"></span>
  <span id="slideInfo"></span>
  <span id="debugInfo"></span>
  <span id="notesInfo"></span>
  <span id="slideFilename"></span>
  <img id="disconnected" src=".//css/disconnected.png" />
</div>

<div id="slides" class="offscreen" style="display:none;">
<div id="title_title" class="slide title_slide" data-transition="none">
<div class="content title_slide" ref="title/title">
<h1>Serverspec</h1>

<h2>Integration Testing for Infrastructure (as Code)</h2>

<h2>Michael Lihs</h2>

<div class="notes">

</div>
</div>
</div>
<div id="about_me_about_me" class="slide title_slide" data-transition="none">
<div class="content title_slide" ref="about_me/about_me">
<h1>@kaktusmimi</h1>

<h1>lihsmi.ch</h1>

<p>works at @BoschGlobal</p>
</div>
</div>
<div id="agenda_agenda" class="slide title_slide" data-transition="none">
<div class="content title_slide" ref="agenda/agenda">
<h1>Agenda</h1>

<ul>
<li>Motivation</li>
<li>First Example</li>
<li>Installation &amp; Setup</li>
<li>Feature Overview</li>
<li>Further Use Cases</li>
</ul>
</div>
</div>
<div id="motivation_motivation" class="slide title_slide" data-transition="none">
<div class="content title_slide" ref="motivation/motivation">
<h1>Motivation</h1>

<ul class="non-bullet">
<li>Let's say you want to ...</li>
<li>... test your infrastructure like you (hopefully) test any other piece of your software</li>
<li>... have repeatable, automated tests - written in code</li>
<li>... have NO agent software required to run your tests</li>
</ul>
</div>
</div>
<div id="first_example_first_example" class="slide title_slide" data-transition="none">
<div class="content title_slide" ref="first_example/first_example/1">
<h1>First Example</h1>

<h2>Is Apache Running?</h2>
</div>
</div>
<div id="first_example_first_example" class="slide code_slide" data-transition="none">
<div class="content code_slide" ref="first_example/first_example/2">
<h1>Your First Test - a.k.a. Spec</h1>

<pre class="sh_ruby"><code>

describe service('httpd') do
  it { should be_enabled }
  it { should be_running }
end

describe port(80) do
  it { should be_listening }
end</code></pre>
</div>
</div>
<div id="first_example_first_example" class="slide code_slide" data-transition="none">
<div class="content code_slide" ref="first_example/first_example/3">
<h1>Run Your Test(s)</h1>

<pre class="sh_sourceCode"><code>
$ rake spec

Service "httpd"
  <span class="sh_fixed">should be enabled</span>
  <span class="sh_fixed">should be running</span>

Port "80"
  <span class="sh_fixed">should be listening</span>

Finished in 2.79 seconds ...
3 examples, 0 failures

</code></pre>
</div>
</div>
<div id="installation_installation" class="slide title_slide" data-transition="none">
<div class="content title_slide" ref="installation/installation/1">
<h1>Installation &amp; Setup</h1>
</div>
</div>
<div id="installation_installation" class="slide code_slide" data-transition="none">
<div class="content code_slide" ref="installation/installation/2">
<h1>(1) Familiar with Ruby</h1>

<pre class="sh_ruby"><code># Within your working directory,
# create a `Gemfile` with
source 'http://rubygems.org'

gem 'serverspec'



# afterwards, run
bundle install</code></pre>
</div>
</div>
<div id="installation_installation" class="slide code_slide" data-transition="none">
<div class="content code_slide" ref="installation/installation/3">
<h1>(2) Not Familiar with Ruby</h1>

<pre class="sh_sh"><code>gem install serverspec</code></pre>
</div>
</div>
<div id="installation_installation" class="slide code_slide" data-transition="none">
<div class="content code_slide" ref="installation/installation/4">
<h1>Initialize Serverspec (SSH)</h1>

<pre class="sh_xml"><code>$ serverspec-init
Select OS type:

  1) UN*X
  2) Windows

Select number: 1

Select a backend type:

  1) SSH
  2) Exec (local)

Select number: 1

Vagrant instance y/n: n
Input target host name: server-name.tld</code></pre>
</div>
</div>
<div id="installation_installation" class="slide code_slide" data-transition="none">
<div class="content code_slide" ref="installation/installation/5">
<h1>What you get</h1>

<pre class="sh_xml"><code>.
├── Rakefile
└── spec
    ├── spec_helper.rb
    └── server-name.tld
        └── sample_spec.rb</code></pre>
</div>
</div>
<div id="features_features" class="slide title_slide" data-transition="none">
<div class="content title_slide" ref="features/features/1">
<h1>Further Features</h1>
</div>
</div>
<div id="features_features" class="slide code_slide" data-transition="none">
<div class="content code_slide" ref="features/features/2">
<h1>Files</h1>

<pre class="sh_ruby"><code># be a file (not a directory)
describe file('/etc/passwd') do
  it { should be_file }
end

# file exists
describe file('/etc/passwd') do
  it { should exist }
end

# be a directory (not a file)
describe file('/var/log/httpd') do
  it { should be_directory }
end</code></pre>
</div>
</div>
<div id="features_features" class="slide code_slide" data-transition="none">
<div class="content code_slide" ref="features/features/3">
<h1>Files (cont'd)</h1>

<pre class="sh_ruby"><code># file mode (permissions)
describe file('/etc/sudoers') do
  it { should be_mode 440 }
end

# file owner
describe file('/etc/sudoers') do
  it { should be_owned_by 'root' }
end

# md5 checksum (check for modifications)
describe file('/etc/services') do
  its(:md5sum) { should eq '35435ea447...' }
end</code></pre>
</div>
</div>
<div id="features_features" class="slide code_slide" data-transition="none">
<div class="content code_slide" ref="features/features/4">
<h1>CRON Jobs</h1>

<pre class="sh_ruby"><code>describe cron do
  it { should have_entry ↵
      '* * * * * /usr/local/bin/foo' }
end</code></pre>
</div>
</div>
<div id="features_features" class="slide " data-transition="none">
<div class="content " ref="features/features/5">
<h1>Resource Documentation</h1>

<p>See <a href="http://serverspec.org/resource_types.html">http://serverspec.org/resource_types.html</a></p>
</div>
</div>
<div id="advanced_usage_about_me" class="slide title_slide" data-transition="none">
<div class="content title_slide" ref="advanced_usage/about_me/1">
<h1>(Advanced) Usage</h1>
</div>
</div>
<div id="advanced_usage_about_me" class="slide " data-transition="none">
<div class="content " ref="advanced_usage/about_me/2">
<h1>Behavior Driven <br> System Administration</h1>

<ul>
<li>Write tests first (describe what you want)</li>
<li>Let your ops people configure the system</li>
<li>Run the tests (until everything's green)</li>
</ul>
</div>
</div>
<div id="advanced_usage_about_me" class="slide " data-transition="none">
<div class="content " ref="advanced_usage/about_me/3">
<h1>Test your (play|cook)books</h1>

<ul>
<li>Write tests</li>
<li>Provision your machine (with Chef, Ansible, Puppet, ...)</li>
<li>Run the tests (until everything's green)</li>
<li>Build Continuous Integration pipeline</li>
</ul>
</div>
</div>
<div id="advanced_usage_about_me" class="slide " data-transition="none">
<div class="content " ref="advanced_usage/about_me/4">
<h1>Monitoring</h1>

<ul>
<li>Write tests</li>
<li>Have Jenkins run tests every X hours</li>
<li>Set up a dashboard for results</li>
</ul>
</div>
</div>
<div id="resources_resources" class="slide title_slide" data-transition="none">
<div class="content title_slide" ref="resources/resources/1">
<h1>Questions</h1>

<h1>???</h1>
</div>
</div>
<div id="resources_resources" class="slide title_slide" data-transition="none">
<div class="content title_slide" ref="resources/resources/2">
<h1>Worth-a-Read</h1>
</div>
</div>
<div id="resources_resources" class="slide " data-transition="none">
<div class="content " ref="resources/resources/3">
<p><img src="./file/resources/test-driven-chef.jpg" height="500px"></p>

<p><a href="http://shop.oreilly.com/product/0636920030973.do">Test-Driven Infrastructure with Chef</a></p>
</div>
</div>
<div id="resources_resources" class="slide " data-transition="none">
<div class="content " ref="resources/resources/4">
<p><img src="./file/resources/infrastructure-as-code.jpg" height="500px"></p>

<p><a href="http://shop.oreilly.com/product/0636920039297.do">Infrastructure as Code</a></p>
</div>
</div>

</div>
<div id="pauseScreen">
  Paused
</div>

</body>
</html>
